<%- include('partials/header'); -%>
        
    <div class="relative flex justify-center">
        <div class="max-w-4xl min-h-screen bg-white flex-1 px-10 pl-12 py-8">
            <input name="title" placeholder="Post Title" class="text-4xl font-bold text-gray-800 mb-4 outline-none focus:outline-none w-full" id="title" value="<% if (post.title) { %><%= post.title %><% } %>">
            <div id="editor" data-blocks="<% if (post.body) { %><%= JSON.stringify(post.body) %><% } %>"></div>
        </div>

        <div class="fixed right-0 top-0 flex">
            <div class="inline-block text-gray-600 underline cursor-pointer mr-3 pt-5 uppercase text-sm" id="save-post">Save</div>
            <div class="group cursor-pointer rounded-full p-2 bg-gray-300 hover:bg-gray-400 mr-3 mt-3" id="settings-open">
                <svg width="20" height="20" class="fill-current text-gray-500 group-hover:text-gray-700" xmlns="http://www.w3.org/2000/svg"><path d="M19.535 8.427l-2.006-.55c-.296-.696-.422-.992-.697-1.71l1.035-1.816a.607.607 0 00-.106-.76L16.41 2.238a.615.615 0 00-.76-.106l-1.817 1.035c-.697-.296-.992-.422-1.71-.697l-.55-2.006A.653.653 0 0010.961 0H9.039c-.296 0-.549.19-.612.465l-.55 2.006c-.696.296-.992.422-1.71.697L4.35 2.133a.607.607 0 00-.76.106L2.238 3.59a.615.615 0 00-.106.76l1.035 1.817c-.296.697-.422.992-.697 1.71l-2.006.55A.653.653 0 000 9.039v1.922c0 .296.19.549.465.612l2.006.55c.296.696.422.992.697 1.71L2.133 15.65a.607.607 0 00.106.76l1.351 1.352a.615.615 0 00.76.106l1.817-1.035c.697.296.992.422 1.71.697l.55 2.006a.653.653 0 00.612.465h1.922c.296 0 .549-.19.612-.465l.55-2.006c.696-.296.992-.422 1.71-.697l1.816 1.035c.254.148.57.106.76-.106l1.352-1.351a.615.615 0 00.106-.76l-1.035-1.817c.296-.697.422-.992.697-1.71l2.006-.55a.653.653 0 00.465-.612V9.039a.653.653 0 00-.465-.612zM10 14a4 4 0 11-.001-7.999A4 4 0 0110 14z" /></svg>
            </div>
        </div>

        <div class="fixed min-w-screen min-h-screen z-50 left-0 w-full" id="settings">
            <div class="absolute min-w-screen min-h-screen w-full top-0 left-0 bg-black opacity-0" id="settings-backdrop"></div>
            <div class="absolute right-0 top-0 bg-white border-l border-gray-200 min-h-screen container max-w-md z-50 shadow-2xl transition flex justify-between flex-col" id="settings-sidebar">
                <div>
                    <h3 class="text-base font-medium text-gray-500 mt-4 ml-6 inline-block">Post Settings</h3>
                    <div class="absolute right-0 top-0 text-4xl font-thin text-gray-500 cursor-pointer cursor-pointer h-12 w-12 leading-none flex justify-center items-center pt-1 pr-2" id="settings-close">&times;</div>

                    <div class="p-6">

                        <div class="relative cursor-pointer mb-8">
                            <label class="top-0 left-0 w-full h-48 rounded-lg bg-gray-100 rounded-lg cursor-pointer block flex flex-col justify-center items-center">
                                <span class="px-3 py-2 rounded border border-gray-300 bg-white text-xs font-bold text-gray-600">Upload Post Image</span>
                            </label>
                            <input type="file" class="w-full h-full absolute left-0 top-0 opacity-0 cursor-pointer">
                        </div>

                        <label class="viking-label" for="slug">URL</label>
                        <input class="viking-input" name="slug" id="slug" placeholder="slug">
                    </div>
                </div>
                <div class="text-right p-5 flex justify-end" id="delete-post">
                    <div class="text-red-600 underline text-sm cursor-pointer inline-block flex justify-center items-center" data-slug="<% post.slug %>">
                        <svg width="18" height="19" class="fill-current text-red-600" xmlns="http://www.w3.org/2000/svg"><g><path d="M0 6.333c0 .875.733 1.584 1.636 1.584v7.916C1.636 17.583 3.102 19 4.91 19h8.182c1.807 0 3.273-1.418 3.273-3.167V7.917c.903 0 1.636-.71 1.636-1.584V4.75c0-.874-.733-1.583-1.636-1.583H13.09V1.583C13.09.71 12.358 0 11.455 0h-4.91C5.642 0 4.91.709 4.91 1.583v1.584H1.636C.733 3.167 0 3.876 0 4.75v1.583zm14.727 9.5c0 .875-.732 1.584-1.636 1.584H4.909c-.904 0-1.636-.71-1.636-1.584V7.917h11.454v7.916zM6.545 1.583h4.91v1.584h-4.91V1.583zM1.636 4.75h14.728v1.583H1.636V4.75z" fill-rule="nonzero"/><path d="M6 16c.552 0 1-.392 1-.875v-5.25C7 9.392 6.552 9 6 9s-1 .392-1 .875v5.25c0 .483.448.875 1 .875zM9 16c.552 0 1-.392 1-.875v-5.25C10 9.392 9.552 9 9 9s-1 .392-1 .875v5.25c0 .483.448.875 1 .875zM12 16c.552 0 1-.392 1-.875v-5.25C13 9.392 12.552 9 12 9s-1 .392-1 .875v5.25c0 .483.448.875 1 .875z"/></g></svg>
                        <span class="ml-2">Delete Post</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden Values -->
    <div class="hidden">
        <input type="hidden" value="<% if(Object.entries(post).length === 0) { %>1<% } else { %>0<% } %>" id="createPost">
    </div>

    <% if (debug) { %>
        <script>
            console.log('post: ');
            console.log(<%- JSON.stringify(post) %>);
        </script>
    <% } %>

    
<%- include('partials/footer'); -%>
